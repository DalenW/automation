<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Automation</title>
    <link rel="manifest" href="/manifest.json">

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>

  <body class="bg-secondary">

    <div class="container bg-light p-5">

      <!-- full name -->
      <div class="mb-3">
        <label for="full_name" class="form-label">Full Name</label>
        <input type="text" class="form-control trim" id="full_name" placeholder="John Doe">
      </div>

      <!-- first name -->
      <div class="mb-3">
        <label for="first_name" class="form-label">First Name</label>
        <input type="text" class="form-control trim" id="first_name" placeholder="John">
      </div>

      <!-- last name -->
      <div class="mb-3">
        <label for="last_name" class="form-label">Last Name</label>
        <input type="text" class="form-control trim" id="last_name" placeholder="Doe">
      </div>

      <!-- phone -->
      <div class="mb-3">
        <label for="phone" class="form-label">Phone</label>
        <input type="text" class="form-control trim" id="phone" placeholder="123-456-7890">
      </div>


      <!-- email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control trim" id="email" placeholder="john.doe@example.com">
      </div>


      <!-- Employee ID -->
      <div class="mb-3">
        <label for="employee_id" class="form-label">Employee ID</label>
        <input type="text" class="form-control trim" id="employee_id" placeholder="123456">
      </div>

      <div class="mb-3">
        <label for="branch-select">PestRoutes Branch</label>
        <select class="form-control" id="branch-select">
        </select>
      </div>

      <div class="mb-3">
        <form class="d-flex" id="copy_form">
          <div>
            <label for="copy_input" class="form-label"></label>
            <input type="text" class="form-control trim" id="copy_input" placeholder="">
          </div>
          <div class="ms-3">
            <br>
            <button type="submit" class="btn btn-primary" id="copy_button">Copy to Clipboard</button>
          </div>
        </form>
      </div>

      <div class="mb-3">
        <button type="button" class="btn btn-warning" onclick="clearForm()">Clear Form</button>
      </div>

    </div>

    <script>
      const pestRoutesBranchs = [{"name":"Bloomfield","ID":37,"URL":"greenixpc37.pestroutes.com"},{"name":"Cherry Hill","ID":14,"URL":"greenixpc14.pestroutes.com"},{"name":"Chicago","ID":7,"URL":"greenixpc7.pestroutes.com"},{"name":"Cincinnati","ID":2,"URL":"greenixpc2.pestroutes.com"},{"name":"Cleveland","ID":4,"URL":"greenixpc4.pestroutes.com"},{"name":"Columbus","ID":19,"URL":"greenixpc19.pestroutes.com"},{"name":"Delaware","ID":35,"URL":"greenixpc35.pestroutes.com"},{"name":"Detroit","ID":8,"URL":"greenixpc8.pestroutes.com"},{"name":"Fort Wayne","ID":28,"URL":"greenixpc28.pestroutes.com"},{"name":"Grand Rapids","ID":10,"URL":"greenixpc10.pestroutes.com"},{"name":"Corporate","ID":24,"URL":"greenixpc24.pestroutes.com"},{"name":"Greenix Sales","ID":27,"URL":"greenixpc27.pestroutes.com"},{"name":"RIDD Sales","ID":26,"URL":"greenixpc26.pestroutes.com"},{"name":"The Grit Sales","ID":25,"URL":"greenixpc25.pestroutes.com"},{"name":"Hilliard","ID":1,"URL":"greenixpc1.pestroutes.com"},{"name":"Indianpolis","ID":5,"URL":"greenixpc5.pestroutes.com"},{"name":"Indianpolis Avon","ID":36,"URL":"greenixpc36.pestroutes.com"},{"name":"Louisville","ID":11,"URL":"greenixpc11.pestroutes.com"},{"name":"Munster","ID":22,"URL":"greenixpc22.pestroutes.com"},{"name":"Philadelphia","ID":9,"URL":"greenixpc9.pestroutes.com"},{"name":"Pittsburgh","ID":12,"URL":"greenixpc12.pestroutes.com"},{"name":"Princeton","ID":20,"URL":"greenixpc20.pestroutes.com"},{"name":"Rise Des Moines","ID":29,"URL":"greenixpc29.pestroutes.com"},{"name":"Rise Indianapolis","ID":30,"URL":"greenixpc30.pestroutes.com"},{"name":"Rise Kansas City","ID":31,"URL":"greenixpc31.pestroutes.com"},{"name":"Rise Milwaukee","ID":32,"URL":"greenixpc32.pestroutes.com"},{"name":"Rise Minneapolis","ID":33,"URL":"greenixpc33.pestroutes.com"},{"name":"Rise Omaha","ID":34,"URL":"greenixpc34.pestroutes.com"},{"name":"Salt Lake City","ID":6,"URL":"greenixpc6.pestroutes.com"},{"name":"Toledo","ID":21,"URL":"greenixpc21.pestroutes.com"},{"name":"Willow Grove","ID":23,"URL":"greenixpc23.pestroutes.com"}];
      const branchSelectElement = $('#branch-select');


      $(document).ready(function() {

        $('.trim').on('change', function() {
          const element = $(this);
          const value = element.val();
          element.val(value.trim());
        });

        $('#copy_form').on('submit', function(e) {
          e.preventDefault();

          const element = $('#copy_input');
          const value = element.val();

          copyToClipboardAsync(value);
          element.val('');
        });

        pestRoutesBranchs.forEach(function (item) {
          const html = `<option value="${item.ID}">${item.name}</option>`;
          branchSelectElement.append(html);
        });

      });


      const copyToClipboardAsync = str => {
        if (navigator && navigator.clipboard && navigator.clipboard.writeText) {
          console.log(`Copied ${str}`);

          return navigator.clipboard.writeText(str);
        }

        return Promise.reject('The Clipboard API is not available.');
      };

      function clearForm() {
        $('input').each(function () {
          $(this).val('');
        })
      }
    </script>
  </body>
</html>
